(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AccountManageIndex"],{7393:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-operator"},[e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.addRole}},[t._v("添加账号")])],1),e("a-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:t.pagination,loading:t.isLoading,bordered:""},on:{change:t.handlePage},scopedSlots:t._u([{key:"status",fn:function(n,a){return e("a-checkbox",{attrs:{checked:"启用"===a.status},on:{click:function(n){return t.onChange(a)}}},[t._v("\r\n            启用\r\n        ")])}},{key:"action",fn:function(n,a){return e("span",{},[[e("a",{on:{click:function(n){return t.handleReset(a)}}},[t._v("重置密码")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(n){return t.handleEdit(a)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(n){return t.handleDel(a)}}},[t._v("删除")])]],2)}}])})],1)},o=[],i=e("b775"),c={name:"AccountNum",components:{},props:{},data:function(){return{isLoading:!0,pagination:{current:1,total:1},data:[],columns:[{title:"用户名",dataIndex:"username"},{title:"账号类型",dataIndex:"gtitle"},{title:"是否启用",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"备注",dataIndex:"mark"},{title:"创建时间",dataIndex:"create_time"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}]}},computed:{},watch:{},beforeRouteEnter:function(t,n,e){e(function(t){t.getData()})},methods:{getData:function(){var t=this;this.isLoading=!0,i["b"].post("/api/User/listData",{page:this.pagination.current,search:JSON.stringify([])}).then(function(n){"200"===n.Code&&(t.isLoading=!1,t.data=n.Data.lists,t.pagination.total=n.Data.total)},function(t){console.log(t)}).catch(function(t){console.log(t)})},addRole:function(){this.$router.push("/user/account-num/info")},onChange:function(t){var n=this;i["b"].post("/api/User/quickEditData",{id:t.id,fieldName:"status",updata:"启用"===t.status?"2":"1"}).then(function(t){"200"===t.Code&&(n.$message.success("更新成功"),n.getData())},function(t){console.log(t)}).catch(function(t){console.log(t)})},handleReset:function(t){var n=this;this.$confirm("是否将该账号密码重置为初始密码?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i["b"].post("/api/User/resetPwd",{id:t.id}).then(function(t){"200"===t.Code&&(n.$message.success("密码已重置"),n.getData())},function(t){console.log(t)}).catch(function(t){console.log(t)})})},handleEdit:function(t){this.$router.push("/user/account-num/info/".concat(t.id))},handleDel:function(t){var n=this;this.$confirm("此操作将永久删除该, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i["b"].post("/api/User/delData",{id:t.id}).then(function(t){"200"===t.Code&&(n.$message.success("删除成功"),n.getData())},function(t){console.log(t)}).catch(function(t){console.log(t)})})},back:function(){this.$router.go(-1)},handlePage:function(t,n,e){this.pagination.current=t.current,this.getData()}}},s=c,u=e("2877"),r=Object(u["a"])(s,a,o,!1,null,null,null);n["default"]=r.exports}}]);