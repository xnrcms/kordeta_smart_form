(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Distribute"],{7885:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{style:{height:"100%"},attrs:{bordered:!1}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:20}},[a("div",{staticStyle:{"max-width":"800px"}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-tree",{attrs:{checkable:"",expandedKeys:e.expandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,selectedKeys:e.selectedKeys,treeData:e.treeData,checkStrictly:!0},on:{expand:e.onExpand,select:e.onSelect},model:{value:e.checkedKeys,callback:function(t){e.checkedKeys=t},expression:"checkedKeys"}}),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)])],1)],1)},s=[],o=(a("c5f6"),a("28a5"),a("ac0d")),c=a("b775"),i={name:"RoleList",components:{},mixins:[o["c"]],data:function(){return{form:this.$form.createForm(this),permissions:[],rules:[],isShow:!0,expandedKeys:[],autoExpandParent:!0,defaultExpandAll:!0,checkedKeys:[],selectedKeys:[],treeData:[]}},beforeRouteEnter:function(e,t,a){a(function(e){e.getPowerList()})},methods:{onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},onCheck:function(e){this.checkedKeys=e},onSelect:function(e,t){this.selectedKeys=e},getParams:function(){var e=this,t=this.$route.params.id;c["b"].post("/api/user_group/detailData",{id:t}).then(function(t){"200"===t.Code&&-1!==t.Data.rules&&(e.checkedKeys=t.Data.rules.split(",").map(Number))},function(e){console.log(e)}).catch(function(e){console.log(e)})},getPowerList:function(){var e=this;c["b"].post("/api/menus/listDataTree").then(function(t){"200"===t.Code&&(console.log(t.Data),e.treeData=JSON.parse(t.Data),console.log(e.treeData),0===e.treeData.length&&(e.isShow=!1),e.getParams())},function(e){console.log(e)}).catch(function(e){console.log(e)})},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.checkedKeys instanceof Array?this.checkedKeys:this.checkedKeys.checked;a=a.filter(function(e){return e}),0===a.length&&a.push(-1),a=a.join(",");var n=this.$route.params.id;c["b"].post("/api/user_group/quickEditData",{id:n,fieldName:"rules",updata:a}).then(function(e){"200"===e.Code&&(t.$message.success("分配成功"),t.$router.push({name:"Manage"}))},function(e){console.log(e)}).catch(function(e){console.log(e)})},cancel:function(){this.$router.go(-1)}}},r=i,l=a("2877"),u=Object(l["a"])(r,n,s,!1,null,"273669ae",null);t["default"]=u.exports}}]);