(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FormDesignList"],{"701c":function(t,a,e){"use strict";var n=e("a4bd"),o=e.n(n);o.a},a4bd:function(t,a,e){},bf48:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-operator"},[e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.addForm}},[t._v("新建表单")])],1),e("a-table",{ref:"table",attrs:{loading:t.tableLoading,size:"default",rowKey:"id",columns:t.columns,dataSource:t.tableData,"show-pagination":!0},on:{change:t.onPageChange},scopedSlots:t._u([{key:"status",fn:function(a,n){return e("a-checkbox",{attrs:{checked:1===n.status},on:{change:function(a){return t.changeTableStatus(n)}}},[t._v(t._s(1===n.status?"启用":"停用"))])}},{key:"action",fn:function(a,n){return e("span",{},[[e("a",{on:{click:function(a){return t.toEdit(n)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(a){return t.toDelete(n)}}},[t._v("删除")])]],2)}}])})],1)],1)},o=[],i=e("a49e"),c={name:"form-design-list",data:function(){return{queryParam:{page:1,search:JSON.stringify([])},tableLoading:!1,columns:[{title:"所属菜单名称",dataIndex:"menu_title",align:"center"},{title:"表单名称",dataIndex:"title",align:"center"},{title:"是否启用",dataIndex:"status",scopedSlots:{customRender:"status"},align:"center"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],tableData:[],totalData:0}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.tableLoading=!0,Object(i["f"])(this.queryParam).then(function(a){t.tableData=a.Data.lists,t.totalData=a.Data.total,t.tableLoading=!1}).catch(function(a){console.log(a),t.tableLoading=!1})},addForm:function(){this.$router.push("/designCenter/form-design/add")},toEdit:function(t){this.$router.push("/designCenter/form-design/edit/".concat(t.id))},toDelete:function(t){var a=this;this.$confirm("删除后，将不可在对应菜单查看到该表单及其历史数据","确定要删除该表单吗？",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){a.tableLoading=!0,Object(i["d"])({id:t.id}).then(function(t){a.tableLoading=!1,a.getTableData()}).catch(function(t){console.log(t),a.tableLoading=!1})}).catch(function(){console.log("cancel")})},changeTableStatus:function(t){var a=this;this.tableLoading=!0;var e=1===t.status?2:1,n={id:t.id,fieldName:"status",updata:e};Object(i["e"])(n).then(function(t){a.getTableData()}).catch(function(t){console.log(t),a.tableLoading=!1})},onPageChange:function(t){this.queryParam.page=t,this.getTableData()}}},s=c,r=(e("701c"),e("2877")),l=Object(r["a"])(s,n,o,!1,null,"00f2b550",null);a["default"]=l.exports}}]);