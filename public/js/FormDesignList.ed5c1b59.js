(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FormDesignList"],{"701c":function(t,a,n){"use strict";var e=n("a4bd"),o=n.n(e);o.a},a49e:function(t,a,n){"use strict";n.d(a,"f",function(){return o}),n.d(a,"h",function(){return r}),n.d(a,"b",function(){return u}),n.d(a,"a",function(){return d}),n.d(a,"e",function(){return i}),n.d(a,"d",function(){return c}),n.d(a,"g",function(){return l}),n.d(a,"c",function(){return s});var e=n("b775"),o=function(t){return Object(e["b"])({url:"api/forms/listData",method:"post",data:t})},i=function(t){return Object(e["b"])({url:"api/forms/quickEditData",method:"post",data:t})},c=function(t){return Object(e["b"])({url:"api/forms/delData",method:"post",data:t})},r=function(t){return Object(e["b"])({url:"admin/Devmenu/listData",method:"post",data:t})},u=function(t){return Object(e["b"])({url:"api/Sys/checkField",method:"post",data:t})},s=function(t){return Object(e["b"])({url:"api/forms/checkStatus",method:"post",data:t})},d=function(t){return Object(e["b"])({url:"api/forms/saveData",method:"post",data:t})},l=function(t){return Object(e["b"])({url:"api/forms/detailData",method:"post",data:t})}},a4bd:function(t,a,n){},bf48:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.addForm}},[t._v("新建表单")])],1),n("a-table",{ref:"table",attrs:{loading:t.tableLoading,size:"default",rowKey:"id",columns:t.columns,dataSource:t.tableData,"show-pagination":!0},on:{change:t.onPageChange},scopedSlots:t._u([{key:"status",fn:function(a,e){return n("a-checkbox",{attrs:{checked:1===e.status},on:{change:function(a){return t.changeTableStatus(e)}}},[t._v(t._s(1===e.status?"启用":"停用"))])}},{key:"action",fn:function(a,e){return n("span",{},[[n("a",{on:{click:function(a){return t.toEdit(e)}}},[t._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(a){return t.toDelete(e)}}},[t._v("删除")])]],2)}}])})],1)],1)},o=[],i=n("a49e"),c={name:"form-design-list",data:function(){return{queryParam:{page:1,search:JSON.stringify([])},tableLoading:!1,columns:[{title:"所属菜单名称",dataIndex:"menu_title",align:"center"},{title:"表单名称",dataIndex:"title",align:"center"},{title:"是否启用",dataIndex:"status",scopedSlots:{customRender:"status"},align:"center"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],tableData:[],totalData:0}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.tableLoading=!0,Object(i["f"])(this.queryParam).then(function(a){t.tableData=a.Data.lists,t.totalData=a.Data.total,t.tableLoading=!1}).catch(function(a){console.log(a),t.tableLoading=!1})},addForm:function(){this.$router.push("/designCenter/form-design/add")},toEdit:function(t){this.$router.push("/designCenter/form-design/edit/".concat(t.id))},toDelete:function(t){var a=this;this.$confirm("删除后，将不可在对应菜单查看到该表单及其历史数据","确定要删除该表单吗？",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){a.tableLoading=!0,Object(i["d"])({id:t.id}).then(function(t){a.tableLoading=!1,a.getTableData()}).catch(function(t){console.log(t),a.tableLoading=!1})}).catch(function(){console.log("cancel")})},changeTableStatus:function(t){var a=this;this.tableLoading=!0;var n=1===t.status?2:1,e={id:t.id,fieldName:"status",updata:n};Object(i["e"])(e).then(function(t){a.getTableData()}).catch(function(t){console.log(t),a.tableLoading=!1})},onPageChange:function(t){this.queryParam.page=t,this.getTableData()}}},r=c,u=(n("701c"),n("2877")),s=Object(u["a"])(r,e,o,!1,null,"00f2b550",null);a["default"]=s.exports}}]);