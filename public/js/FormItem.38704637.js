(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FormItem"],{"27e0":function(t,a,e){},d080:function(t,a,e){"use strict";var n=e("27e0"),i=e.n(n);i.a},e6f5:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-spin",{attrs:{spinning:t.pageLoading}},[e("a-card",{attrs:{bordered:!1}},[e("h5",{staticClass:"page-title"},[t._v(t._s(t.pageTitle))]),e("fm-generate-form",{ref:"generateForm",attrs:{readOnly:t.readOnly,data:t.jsonData}}),e("div",{staticClass:"bottom-btn"},["check"!==t.pageType?e("a-button",{staticClass:"mr20 wide-btn",attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]):t._e(),e("a-button",{staticClass:"wide-btn",on:{click:t.back}},[t._v("返回")])],1)],1)],1)],1)},i=[],o=(e("28a5"),e("456d"),e("ac6a"),e("c5f6"),e("7f7f"),e("ef5a")),r={name:"handleFormItem",data:function(){return{menuid:0,pageType:"",pageTitle:"",pageLoading:!1,readOnly:!1,jsonData:{}}},created:function(){this.initPage()},methods:{initPage:function(){switch(this.$route.name){case"addBaseFormItem":case"addBaseFormItemCard":this.pageType="add",this.pageTitle="新建",this.readOnly=!1,this.getPageConfig();break;case"editBaseFormItem":case"editBaseFormItemCard":this.pageType="edit",this.pageTitle="编辑",this.readOnly=!1,this.getPageConfig();break;case"checkBaseFormItem":case"checkBaseFormItemCard":this.pageType="check",this.pageTitle="查看",this.readOnly=!0,this.getPageConfig();break}},getPageConfig:function(){var t=this;this.menuid=Number(this.$route.params.menuid),this.pageLoading=!0;var a={menuid:this.menuid,id:0};"add"!==this.pageType&&(a.id=Number(this.$route.params.id)),Object(o["b"])(a).then(function(a){t.jsonData=JSON.parse(a.Data.formInfo);var e=JSON.parse(a.Data.dataInfo);""!==e?(t.jsonData.list&&t.jsonData.list.length&&t.jsonData.list.forEach(function(t){for(var a=0,n=Object.keys(e);a<n.length;a++){var i=n[a];if(t.model===i){"checkbox"===t.model.split("_")[0]||t.options.multiple?t.options.defaultValue=e[i].split(","):t.options.defaultValue=e[i];break}}}),t.pageLoading=!1):t.pageLoading=!1}).catch(function(a){console.log(a),t.pageLoading=!1})},submit:function(){var t=this;this.$refs.generateForm.getData().then(function(a){Object.keys(a).forEach(function(t){"checkbox"===t.split("_")[0]&&(a[t]=a[t].join(",")),"select"===t.split("_")[0]&&Array.isArray(a[t])&&(a[t]=a[t].join(","))}),t.pageLoading=!0,"add"===t.pageType?Object.assign(a,{id:0}):"edit"===t.pageType&&Object.assign(a,{id:Number(t.$route.params.id)});var e={menuid:t.menuid,formData:JSON.stringify(a)};Object(o["e"])(e).then(function(a){t.pageLoading=!1,t.$router.go(-1)}).catch(function(a){console.log(a),t.pageLoading=!1})}).catch(function(t){console.log(t)})},back:function(){this.$router.go(-1)}}},s=r,c=(e("d080"),e("2877")),d=Object(c["a"])(s,n,i,!1,null,"6e31035d",null);a["default"]=d.exports},ef5a:function(t,a,e){"use strict";e.d(a,"c",function(){return i}),e.d(a,"b",function(){return o}),e.d(a,"e",function(){return r}),e.d(a,"a",function(){return s}),e.d(a,"d",function(){return c});var n=e("b775"),i=function(t){return Object(n["b"])({url:"api/tpldata/listData",method:"post",data:t})},o=function(t){return Object(n["b"])({url:"api/tpldata/detailData",method:"post",data:t})},r=function(t){return Object(n["b"])({url:"api/tpldata/saveData",method:"post",data:t})},s=function(t){return Object(n["b"])({url:"api/tpldata/delData",method:"post",data:t})},c=function(t){return Object(n["b"])({url:"api/tpldata/import",method:"post",data:t})}}}]);