(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FormItem"],{"9e67":function(e,a,t){"use strict";var i=t("df28"),n=t.n(i);n.a},df28:function(e,a,t){},e6f5:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-spin",{attrs:{spinning:e.pageLoading}},[t("a-card",{attrs:{bordered:!1}},[t("h5",{staticClass:"page-title"},[e._v(e._s(e.pageTitle))]),t("fm-generate-form",{ref:"generateForm",attrs:{readOnly:e.readOnly,data:e.jsonData}}),t("div",{staticClass:"bottom-btn"},["check"!==e.pageType?t("a-button",{staticClass:"mr20 wide-btn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]):e._e(),t("a-button",{staticClass:"wide-btn",on:{click:e.back}},[e._v("返回")])],1)],1)],1)],1)},n=[],s=(t("28a5"),t("456d"),t("ac6a"),t("c5f6"),t("7f7f"),t("ef5a")),o={name:"handleFormItem",data:function(){return{menuid:0,pageType:"",pageTitle:"",pageLoading:!1,readOnly:!1,jsonData:{}}},created:function(){this.initPage()},methods:{initPage:function(){switch(this.$route.name){case"addBaseFormItem":case"addBaseFormItemCard":this.pageType="add",this.pageTitle="新建",this.readOnly=!1,this.getPageConfig();break;case"editBaseFormItem":case"editBaseFormItemCard":this.pageType="edit",this.pageTitle="编辑",this.readOnly=!1,this.getPageConfig();break;case"checkBaseFormItem":case"checkBaseFormItemCard":this.pageType="check",this.pageTitle="查看",this.readOnly=!0,this.getPageConfig();break}},getPageConfig:function(){var e=this;this.menuid=Number(this.$route.params.menuid),this.pageLoading=!0;var a={menuid:this.menuid,id:0};"add"!==this.pageType&&(a.id=Number(this.$route.params.id)),Object(s["b"])(a).then(function(a){e.jsonData=JSON.parse(a.Data.formInfo);var t=a.Data.dataInfo?JSON.parse(a.Data.dataInfo):"";""!==t?(e.jsonData.list&&e.jsonData.list.length&&e.jsonData.list.forEach(function(e){for(var a=0,i=Object.keys(t);a<i.length;a++){var n=i[a];if(e.model===n){"checkbox"===e.model.split("_")[0]||e.options.multiple?e.options.defaultValue=t[n].split(","):e.options.defaultValue=t[n];break}}}),e.pageLoading=!1):e.pageLoading=!1}).catch(function(a){console.log(a),e.pageLoading=!1})},submit:function(){var e=this;this.$refs.generateForm.getData().then(function(a){Object.keys(a).forEach(function(e){"checkbox"===e.split("_")[0]&&(a[e]=a[e].join(",")),"select"===e.split("_")[0]&&Array.isArray(a[e])&&(a[e]=a[e].join(","))}),e.pageLoading=!0,"add"===e.pageType?Object.assign(a,{id:0}):"edit"===e.pageType&&Object.assign(a,{id:Number(e.$route.params.id)});var t={menuid:e.menuid,formData:JSON.stringify(a)};Object(s["f"])(t).then(function(a){e.pageLoading=!1,e.$router.go(-1)}).catch(function(a){console.log(a),e.pageLoading=!1})}).catch(function(e){console.log(e)})},back:function(){this.$router.go(-1)}}},r=o,c=(t("9e67"),t("2877")),d=Object(c["a"])(r,i,n,!1,null,"30b4c998",null);a["default"]=d.exports}}]);