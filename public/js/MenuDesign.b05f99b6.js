(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MenuDesign"],{"5cd1":function(e,t,n){e.exports=n.p+"img/no-data.a2868b0a.png"},"8aa0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"menu-list",attrs:{bordered:!1}},[a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$router.push("/designCenter/menu-design/add")}}},[e._v("新建菜单")])],1),a("a-table",{attrs:{columns:e.columns,dataSource:e.data,pagination:!1,expandedRowKeys:e.defaultExpandedRowKeys,rowKey:"id",locale:{emptyText:""}},on:{expand:e.expandedRowsChange},scopedSlots:e._u([{key:"url",fn:function(t){return a("div",{},[a("Ellipsis",{attrs:{length:20,tooltip:!0,fullWidthRecognition:!0}},[e._v(e._s(t))])],1)}},{key:"pageOpt",fn:function(t){return a("div",{},e._l(t,function(t){return a("span",{key:t.id},[e._v(e._s(t.title)+" ")])}),0)}},{key:"status",fn:function(t,n){return a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.changeStatus(n)}}},[e._v("\n            "+e._s(t)+"\n        ")])}},{key:"operation",fn:function(t){return a("div",{},[a("a",{attrs:{href:"javascript:;"},on:{click:function(n){return e.editMenu(t)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{directives:[{name:"show",rawName:"v-show",value:!(t.children&&t.children.length),expression:"!(record.children && record.children.length)"}],attrs:{title:"确定删除?"},on:{confirm:function(n){return e.delMenu(t)}}},[a("a",{attrs:{href:"javascript:;"}},[e._v("删除")])]),a("a-divider",{directives:[{name:"show",rawName:"v-show",value:!(t.children&&t.children.length),expression:"!(record.children && record.children.length)"}],attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(n){return e.addSubMenu(t)}}},[e._v("新增子菜单")])],1)}}])}),e.data.length?e._e():a("div",{staticClass:"no-data ant-table-placeholder"},[a("img",{attrs:{src:n("5cd1"),alt:""}}),a("div",[e._v("暂无数据，请先创建")])])],1)},i=[],s=(n("20d6"),n("b775")),d=n("5d2d"),o=n("2971"),r=n("2af9"),c=[{title:"菜单名称",dataIndex:"title",key:"title"},{title:"菜单URL",dataIndex:"url",key:"url",scopedSlots:{customRender:"url"},width:"20%"},{title:"页面操作",dataIndex:"pageOpt",key:"pageOpt",scopedSlots:{customRender:"pageOpt"},width:"10%"},{title:"排序",dataIndex:"sort",key:"sort",width:"10%",align:"center"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"},width:"10%",align:"center"},{title:"操作",key:"operation",scopedSlots:{customRender:"operation"},width:"20%"}],l={name:"MenuDesign",components:{STable:r["d"],Ellipsis:r["a"]},data:function(){return{data:[],columns:c,defaultExpandedRowKeys:[]}},created:function(){this.initTable()},methods:{initTable:function(){var e=this;s["b"].post("/admin/Devmenu/listData",{uid:Object(d["b"])("UID"),hashid:Object(d["b"])("HASHID"),page:"",search:""}).then(function(t){console.log(t.Data.lists);var n=Object(o["a"])(t.Data.lists);e.data=n})},editMenu:function(e){console.log(e),this.$router.push("/designCenter/menu-design/edit/"+e.id)},addSubMenu:function(e){this.$router.push("/designCenter/menu-design/add/"+e.id)},delMenu:function(e){var t=this;console.log(e),s["b"].post("/admin/Devmenu/delData",{uid:Object(d["b"])("UID"),hashid:Object(d["b"])("HASHID"),id:e.id}).then(function(e){console.log(e),"200"===e.Code&&(t.$notification["success"]({message:"提示:",description:"操作成功"}),t.initTable())})},changeStatus:function(e){var t=this;console.log(e);var n=JSON.parse(JSON.stringify(e)),a=1==n.status2?"2":"1";console.log(n),s["b"].post("/admin/Devmenu/quickEditData",{uid:Object(d["b"])("UID"),hashid:Object(d["b"])("HASHID"),id:n.id,fieldName:"status",updata:a}).then(function(e){console.log(e),"200"==e.Code&&t.initTable()})},expandedRowsChange:function(e,t){if(e)this.defaultExpandedRowKeys.push(t.id);else{var n=this.defaultExpandedRowKeys.findIndex(function(e){return e==t.id});this.defaultExpandedRowKeys.splice(n,1)}}}},u=l,p=(n("d1b9"),n("2877")),h=Object(p["a"])(u,a,i,!1,null,"5a18ce5d",null);t["default"]=h.exports},bd6b:function(e,t,n){},d1b9:function(e,t,n){"use strict";var a=n("bd6b"),i=n.n(a);i.a}}]);